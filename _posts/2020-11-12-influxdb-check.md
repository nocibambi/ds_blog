---
keywords: fastai
title: Checks in InlfuxDB
nb_path: _notebooks/2020-11-12-influxdb-check.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-11-12-influxdb-check.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can use InfluxDB to monitor your data and generate notifications reporting its status.</p>
<h2 id="Concepts">Concepts<a class="anchor-link" href="#Concepts"> </a></h2><ul>
<li><strong>Check</strong>: generate statuses based on a queries expressing a conditino. It stores them in the <code>_monitoring</code> bucket (under <code>statuses</code> measurement)</li>
<li><strong>Notification rule</strong>: check the <code>statuses</code> measurement and, based on its own conditions, triggers the notification endpoint. It also stores notifications in the <code>_monitoring</code> bucket (under <code>notifications</code> measurement)</li>
<li><strong>Notification endpoint</strong>: </li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Checks">Checks<a class="anchor-link" href="#Checks"> </a></h2><p>The elements of a check:</p>
<ol>
<li>Query: Defines what to monitor.</li>
<li>Configuration: defines check interval, messages, and status.</li>
</ol>
<p>Check types</p>
<ul>
<li><strong>Threshold check</strong>: monitors a value against (high/low) thresholds and assigns one of the following values: <strong>CRIT</strong>, <strong>WARN</strong>, <strong>INFO</strong>, <strong>OK</strong>.</li>
<li><strong>Deadman check</strong>: monitors if a series or group responds within a given amount of time.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Create-a-check">Create a check<a class="anchor-link" href="#Create-a-check"> </a></h2><ol>
<li>Select the <strong>Alerts</strong> menu in the navigation pane.</li>
<li>Click on <strong>Create</strong></li>
<li>Select the check type.</li>
</ol>
<h2 id="Query">Query<a class="anchor-link" href="#Query"> </a></h2><p>By default, you will find yourself in the <strong>Define Query</strong> screen.</p>
<ol>
<li>Select the <strong>bucket</strong>, the <strong>measurement</strong>, the <strong>field</strong>, and the <strong>tag sets</strong>.</li>
<li>For threshold check: Select an <strong>aggregate function</strong> (e.g. mean, median, std, etc.).</li>
</ol>
<p>You can preview the results of the query by clicking on <strong>Submit</strong>.</p>
<p>After these steps, select the <strong>Configure Check</strong> screen.</p>
<ol>
<li>Define the check schedule interval (this updates the aggregate function interval).</li>
<li>Filter the check based on tags (Optional).</li>
<li>Edit the status message template (Optional).</li>
</ol>
<ul>
<li>For threshold check: define the thresholds and rules that will trigger the specific statuses. You can also set them with the mouse by moving their respective labels on the preview screen.</li>
<li>For deadman check: specify the duration to check for, the status the lack of series or groups should trigger, and time after which it should stop checking the series / group.</li>
</ul>
<p>Finally, name the check at the top of the screen.</p>
<p>Click the green checkmark to save the check.</p>

</div>
</div>
</div>
</div>
 

